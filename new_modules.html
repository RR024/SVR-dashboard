<!-- Reports & Analytics Module -->
<section id="reports" class="module">
    <div class="page-header">
        <h2>Reports & Analytics</h2>
        <p>Comprehensive business insights and reports</p>
    </div>

    <!-- Analytics Charts -->
    <div class="card mb-3">
        <div class="card-header">
            <h3 class="card-title">Business Analytics</h3>
        </div>
        <div style="padding: var(--space-xl);">
            <div
                style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-xl); margin-bottom: var(--space-xl);">
                <div>
                    <h4 style="margin-bottom: 1rem;">Monthly Revenue</h4>
                    <canvas id="revenueChart"></canvas>
                </div>
                <div>
                    <h4 style="margin-bottom: 1rem;">Invoice Status Distribution</h4>
                    <canvas id="statusChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Report Generation -->
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Generate Reports</h3>
        </div>
        <div style="padding: var(--space-xl);">
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: var(--space-lg);">
                <button class="btn btn-primary" onclick="generateMonthlyReport()">
                    ðŸ“Š Monthly Revenue Report
                </button>
                <button class="btn btn-primary" onclick="generateOutstandingReport()">
                    ðŸ’° Outstanding Payments Report
                </button>
                <button class="btn btn-primary" onclick="generateAttendanceReport()">
                    âœ… Attendance Summary Report
                </button>
                <button class="btn btn-success" onclick="generateGSTReport()">
                    ðŸ“„ GST Tax Summary
                </button>
                <button class="btn btn-secondary" onclick="exportAllReports()">
                    ðŸ“¥ Export All Reports
                </button>
            </div>
        </div>
    </div>
</section>

<!-- Settings/Admin Module -->
<section id="settings" class="module">
    <div class="page-header">
        <h2>Settings & Administration</h2>
        <p>Manage system configuration and data</p>
    </div>

    <!-- User Management -->
    <div class="card mb-3">
        <div class="card-header flex-between">
            <h3 class="card-title">User Management</h3>
            <button class="btn btn-primary btn-sm" onclick="openUserModal()">
                âž• Add User
            </button>
        </div>
        <div class="table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Username</th>
                        <th>Full Name</th>
                        <th>Role</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="usersTableBody">
                    <tr>
                        <td colspan="5" class="text-center" style="color: var(--text-secondary);">
                            Loading users...
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Data Export/Import -->
    <div class="card mb-3">
        <div class="card-header">
            <h3 class="card-title">Data Export/Import</h3>
        </div>
        <div style="padding: var(--space-xl);">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-xl);">
                <!-- Export Section -->
                <div>
                    <h4 style="margin-bottom: 1rem;">Export Data</h4>
                    <div style="display: flex; flex-direction: column; gap: var(--space-md);">
                        <button class="btn btn-success" onclick="exportToJSON()">
                            ðŸ“„ Export All Data (JSON)
                        </button>
                        <button class="btn btn-success" onclick="exportToExcel('inward')">
                            ðŸ“Š Export Inward Invoices (Excel)
                        </button>
                        <button class="btn btn-success" onclick="exportToExcel('outward')">
                            ðŸ“Š Export Outward Invoices (Excel)
                        </button>
                        <button class="btn btn-success" onclick="exportToExcel('employees')">
                            ðŸ“Š Export Employees (Excel)
                        </button>
                        <button class="btn btn-success" onclick="exportToExcel('attendance')">
                            ðŸ“Š Export Attendance (Excel)
                        </button>
                    </div>
                </div>

                <!-- Import Section -->
                <div>
                    <h4 style="margin-bottom: 1rem;">Import Data</h4>
                    <div style="display: flex; flex-direction: column; gap: var(--space-md);">
                        <div>
                            <input type="file" id="jsonImportFile" accept=".json" style="display: none;"
                                onchange="importFromJSON(this)">
                            <button class="btn btn-secondary"
                                onclick="document.getElementById('jsonImportFile').click()">
                                ðŸ“¥ Import from JSON Backup
                            </button>
                        </div>
                        <div style="padding: 1rem; background: var(--bg-tertiary); border-radius: var(--radius-md);">
                            <p style="font-size: 0.875rem; color: var(--text-secondary); margin: 0;">
                                <strong>Note:</strong> Import will merge with existing data. Create a backup before
                                importing.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Backup Management -->
    <div class="card">
        <div class="card-header flex-between">
            <h3 class="card-title">Automatic Backups</h3>
            <button class="btn btn-primary btn-sm" onclick="createManualBackup()">
                ðŸ’¾ Create Backup Now
            </button>
        </div>
        <div style="padding: var(--space-xl);">
            <div style="display: flex; gap: var(--space-lg); align-items: center; margin-bottom: var(--space-lg);">
                <label class="flex" style="align-items: center; gap: var(--space-sm);">
                    <input type="checkbox" id="autoBackupEnabled" onchange="toggleAutoBackup(this.checked)">
                    <span>Enable Daily Auto-Backup</span>
                </label>
                <span style="color: var(--text-secondary); font-size: 0.875rem;" id="nextBackupTime">Next backup:
                    --</span>
            </div>

            <h4 style="margin-bottom: 1rem;">Backup History</h4>
            <div id="backupList" style="display: flex; flex-direction: column; gap: var(--space-sm);">
                <p style="color: var(--text-secondary);">No backups yet</p>
            </div>
        </div>
    </div>
</section>